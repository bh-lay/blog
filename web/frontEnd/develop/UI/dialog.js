/**
 * @author bh-lay
 * 
 * @github https://github.com/bh-lay/UI
 * @modified 2014-7-6 12:42
 * 
 **/
(function(b,f,e,c){var a=c(b,f);var d=e(b,f,a);b.UI=b.UI||d;b.UI._utils=a;b.define&&define(function(){return d})})(window,document,function(J,b,U){var D='<div class="UI_lawyer"><div class="UI_mask"></div><div class="UI_main_cnt"></div><div class="UI_fixedScreenTop_cnt"></div><div class="UI_fixedScreenBottom_cnt"></div></div>';var O='<div style="position:absolute;top:0px;left:0px;z-index:100000;cursor:default;"></div>';var K='<div class="UI_pop"><div class="UI_pop_cpt"></div><div class="UI_pop_cnt"></div><a href="javascript:void(0)" class="UI_pop_close" title="\u5173\u95ED">×</a></div>';var h='<div class="UI_confirm"><div class="UI_confirm_text">{text}</div></div>';var d='<div class="UI_ask"><div class="UI_ask_text">{text}</div><input class="UI_ask_key" type="text" name="UI_ask_key"/></div>';var A='<div class="UI_pop_confirm"><a href="javascript:void(0)" class="UI_pop_confirm_ok">{confirm}</a><a href="javascript:void(0)" class="UI_pop_confirm_cancel">{cancel}</a></div>';var o='<div class="UI_plane"></div>';var F='<div class="UI_prompt"><div class="UI_cnt"></div></div>';var R='<div class="UI_cover"><div class="UI_coverCnt"></div><a href="javascript:void(0)" class="UI_coverClose">〉</a></div>';var L='<div class="UI_select"><div class="UI_select_body"> {caption} <div class="UI_selectCnt">{list}</div></div><div class="UI_selectCancel"><a class="UI_select_btn" href="javascript:void(0)" data-index="-1">取消</a></div></div>';var B='.UI_lawyer{position:absolute;top:0px;left:0px;z-index:4999;width:100%;height:0px;overflow:visible;font-family:"Microsoft Yahei"}.UI_lawyer a,.UI_lawyer a:hover{text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;}.UI_lawyer a:active{outline:none;}.UI_mask{position:absolute;top:0px;left:0px;width:100%;background-color:#000;display:none;opacity:0.2;filter:alpha(opacity=20)}.UI_main_cnt{width:0px;height:0px;overflow:visible;}.UI_fixedScreenTop_cnt{position:absolute;z-index:4999;top:0px;left:0px;width:100%;height:0px;overflow:visible;}.UI_fixedScreenBottom_cnt{position:absolute;z-index:4999;left:0px;width:100%;height:0px;overflow:visible;}.UI_pop{width:200px;_border:1px solid #eee;position:absolute;top:400px;left:300px;background:#fff;border-radius:4px;overflow:hidden;box-shadow:2px 3px 10px rgba(0,0,0,0.6);}.UI_pop_cpt{position:relative;height:36px;line-height:36px;overflow:hidden;border-bottom:1px solid #ebebeb;color:#777;font-size:16px;text-indent:15px;cursor:default;}.UI_pop_cnt{position:relative;min-height:100px;overflow:auto;width:100%;}.UI_pop_close{display:block;position:absolute;top:0px;right:0px;width:40px;height:36px;text-align:center;color:#ddd;font:bold 20px/36px "simsun";transition:0.1s;}.UI_pop_close:hover{color:#888;}.UI_pop_close:active{color:#222}.UI_confirm{_border:1px solid #eee;position:absolute;background:#fff;border-radius:4px;overflow:hidden;box-shadow:2px 3px 10px rgba(0,0,0,0.6);}.UI_confirm_text{padding:30px 10px 20px;line-height:26px;text-align:center;font-size:20px;color:#333;}.UI_ask{_border:1px solid #eee;position:absolute;background:#fff;border-radius:4px;overflow:hidden;box-shadow:2px 3px 10px rgba(0,0,0,0.6);}.UI_ask_text{padding:25px 10px 15px;line-height:26px;text-align:center;font-size:18px;color:#333;}.UI_ask input{display:block;margin:0px auto 15px;height:30px;padding:4px 4px;line-height:22px;box-sizing:border-box;width:90%;}.UI_pop_confirm{overflow:hidden;text-align:center;border-top:1px solid #ddd;}.UI_pop_confirm a{display:block;width:50%;height:36px;float:left;font-size:14px;line-height:36px;color:#03f;box-sizing:border-box;transition:0.15s;}.UI_pop_confirm_ok{border-right:1px solid #ddd;}@media(min-width:460px){.UI_pop_confirm a:hover{background:#eee}}.UI_plane{width:200px;position:absolute;top:400px;left:300px;}.UI_prompt{width:240px;position:absolute;left:50%;margin-left:-120px;box-sizing:content-box;background:#fff;_border:1px solid #fafafa;border-radius:4px;box-shadow:2px 2px 10px rgba(0,0,0,0.5);}.UI_cnt{padding:30px 10px;font-size:18px;color:#222;text-align:center;}.UI_cover{position:absolute;top:0px;left:0px;width:100%;height:100px;}.UI_coverCnt{position:relative;width:100%;height:100%;background:#fff;overflow:auto}.UI_coverClose{display:block;position:absolute;top:50%;left:0px;width:20px;height:60px;padding-left:5px;text-align:center;color:#ddd;font:30px/60px "simsun";background:#555;}.UI_coverClose:hover{background-color:#333;color:#fff;}.UI_select{position:absolute;width:100%;padding-bottom:10px;}.UI_select a{display:block;height:40px;line-height:40px;text-align:center;color:#03f;font-size:16px;}.UI_select_body{margin:0px 10px 10px;border-radius:8px;overflow:hidden;background:#fff;}.UI_selectCpt{padding:8px 0px;}.UI_selectCpt h3,.UI_selectCpt p{margin:0px;font-size:15px;line-height:18px;text-align:center;color:#aaa;font-weight:normal;}.UI_selectCpt p{font-size:12px;}.UI_selectCnt a{border-top:1px solid #eee;}.UI_selectCancel{margin:0px 10px;border-radius:8px;overflow:hidden;background:#fff;}.UI_main_cnt .UI_select{width:200px;padding:0px;border-radius:0px;box-shadow:2px 1px 5px rgba(0,0,0,0.8)}.UI_main_cnt .UI_select_body,.UI_main_cnt .UI_selectCancel{margin:0px;border-radius:0px;}.UI_main_cnt .UI_select a{height:30px;line-height:30px;font-size:14px;}.UI_main_cnt .UI_selectCancel{border-top:1px solid #eee;background:#eee}';var s=false;if(navigator.appName=="Microsoft Internet Explorer"){var N=navigator.appVersion.split(";")[1].replace(/[ ]/g,"");if(N=="MSIE6.0"||N=="MSIE7.0"){s=true}}var n=U.createDom(D)[0],i=U.findByClassName(n,"UI_mask")[0],f=U.findByClassName(n,"UI_main_cnt")[0],u=U.findByClassName(n,"UI_fixedScreenTop_cnt")[0],m=U.findByClassName(n,"UI_fixedScreenBottom_cnt")[0],V=null,t=b.head||b.getElementsByTagName("head")[0],c,e,l,q,S="ontouchend" in b?true:false,v=0;var E={"gap":{"top":0,"left":0,"bottom":0,"right":0},"zIndex":499};var y;if(b.compatMode=="BackCompat"){y=b.body}else{y=b.documentElement}function j(){q=b.documentElement.scrollTop==0?b.body.scrollTop:b.documentElement.scrollTop;e=J.innerHeight||b.documentElement.clientHeight;l=y.scrollHeight;c=y.clientWidth;V&&U.removeNode(V);var W=[".UI_cover{height:"+e+"px;}",".UI_ask{top:"+(e/2)+"px;}",".UI_mask{height:"+l+"px;}"].join("");V=U.createStyleSheet(W,{"data-module":"UI_plug"});t.appendChild(V)}U.ready(function(){var X=U.createStyleSheet(B,{"data-module":"UI"});t.appendChild(X);b.body.appendChild(n);B=null;D=null;j();setTimeout(j,500);var W=null;if(s){U.css(u,{"top":q});U.css(m,{"top":q+e});W=function(){j();U.css(u,{"top":q});U.css(m,{"top":q+e});U.css(i,{"top":q})}}else{U.css(u,{"position":"fixed","top":0});U.css(m,{"position":"fixed","bottom":0});W=j}U.bind(J,"resize",W);U.bind(J,"scroll",W)});function Q(Z,Y,X,W){var aa=E.gap;if(Z<q+aa.top){Z=q+aa.top}else{if(Z+W-q>e-aa.bottom){if(W>e-aa.top-aa.bottom){Z=q+aa.top}else{Z=q+e-W-aa.bottom}}}if(Y<aa.left){Y=aa.left}else{if(Y+X>c-aa.right){Y=c-X-aa.right}}return{"top":Z,"left":Y}}function k(Z,W){var ab=(e-W)/2+q;var aa=(c-Z)/2;var ac=E.gap;var X=(e-W)/2;if(X<ac.top){X=ac.top}var Y=Q(ab,aa,Z,W);return{"top":Y.top,"left":Y.left,"screenTop":X,"screenLeft":Y.left}}function T(ab,aa,Z){var ac=null;var Y=null;var X=["\u786E\u8BA4","\u53D6\u6D88"];if(typeof(aa)=="function"){ac=aa}else{if(typeof(aa)=="object"){if(aa["btns"]){X[0]=aa["btns"][0];X[1]=aa["btns"][1]}if(typeof(aa["callback"])=="function"){ac=aa["callback"]}if(typeof(aa["cancel"])=="function"){Y=aa["cancel"]}}}var W=A.replace(/{(\w+)}/g,function(){var ad=arguments[1];if(ad=="confirm"){return X[0]}else{if(ad=="cancel"){return X[1]}}});ab.appendChild(U.createDom(W)[0]);U.bind(ab,"click",".UI_pop_confirm_ok",function(){ac?((ac()!=false)&&Z()):Z()});U.bind(ab,"click",".UI_pop_confirm_cancel",function(){Y?((Y()!=false)&&Z()):Z()})}function C(){v++;if(v==1){U.fadeIn(i,100)}}function M(Y,W){var Z=Y||null;var X=W;return function(aa,ac){aa=aa||Z;ac=parseInt(ac||X)||80;this.closeFn&&this.closeFn();if(this._mask){v--;if(v==0){U.fadeOut(i,80)}}var ab=this.dom;if(!aa){U.removeNode(ab)}else{if(aa=="fade"){U.fadeOut(ab,ac,function(){U.removeNode(ab)})}else{if(aa=="slide"){U.slideUp(ab,ac,function(){U.removeNode(ab)})}else{if(aa=="zoomOut"){U.zoomOut(ab,ac,function(){U.removeNode(ab)})}}}}}}var I=U.createDom('<div style="position:absolute;background:#fff;"></div>')[0];function r(ae,ab,Z,W,ad,aa){var Y=ab.height||U.getStyle(ae,"height");U.hide(ae);var ac={"width":ab.width,"height":ab.height,"left":ab.left,"top":(ab.top?ab.top-100:null),"opacity":0};if(Z){ad="SineEaseIn";W=200;var X=U.offset(Z);ac.top=X.top;ac.left=X.left;ac.height=U.getStyle(Z,"height");ac.width=U.getStyle(Z,"width");ac.opacity=0.5}f.appendChild(I);U.css(I,ac);U.animation(I,{"width":ab.width,"height":Y,"left":ab.left,"top":ab.top,"opacity":1},W,ad,function(){U.removeNode(I);ab.display="block";U.css(ae,ab);aa&&aa()})}function a(X){var X=X||{};var ad=this;this.dom=U.createDom(K)[0];this.cntDom=U.findByClassName(this.dom,"UI_pop_cnt")[0];this.closeFn=X["closeFn"]||null;this._mask=X["mask"]||false;var ae=X["html"]||"";var Y=X["width"]||Math.min(600,c-20);if(X["confirm"]){T(this.dom,X["confirm"],function(){ad.close()})}var ab=U.findByClassName(this.dom,"UI_pop_cpt")[0];if(!X["title"]){U.removeNode(ab)}else{var ac=X["title"]||"\u8BF7\u8F93\u5165\u6807\u9898";ab.innerHTML=ac;var af=null;U.drag(ab,this.dom,{"start":function(){j();af=U.createDom(O)[0];U.css(af,{"width":c,"height":e,"cursor":U.getStyle(ab,"cursor")});u.appendChild(af)},"move":function(ao,am,al,ah,an,ak){var ag=ao+al;var aj=am+ah;var ai=Q(aj,ag,an,ak);U.css(ad.dom,{"left":ai.left,"top":ai.top})},"end":function(){af&&U.removeNode(af);af=null}})}this.cntDom.innerHTML=ae;f.appendChild(this.dom);var Z=k(Y,U.outerHeight(this.dom));var aa=(X["top"]==+X["top"])?X["top"]:Z.top;var W=(X["left"]==+X["left"])?X["left"]:Z.left;r(this.dom,{"width":Y,"top":aa,"left":W},X.anim_from,200,"QuadEaseIn");U.bind(this.dom,"click",".UI_pop_close",function(){ad.close()});if(this._mask){C()}}a.prototype["close"]=M("zoomOut",150);a.prototype["adapt"]=function(){var Y=U.outerWidth(this.dom);var W=U.outerHeight(this.dom);var X=k(Y,W);U.animation(this.dom,{"top":X.top,"left":X.left},100)};function g(aa){var aa=aa||{};var Y=this;var Z=aa["text"]||"\u8BF7\u8F93\u5165\u786E\u8BA4\u4FE1\u606F！";var ab=aa["callback"]||null;var W=h.replace(/{text}/,Z);this._mask=typeof(aa["mask"])=="boolean"?aa["mask"]:true;this.dom=U.createDom(W)[0];this.closeFn=aa["closeFn"]||null;if(this._mask){C()}T(this.dom,aa,function(){Y.close()});var X=k(300,160);u.appendChild(this.dom);r(this.dom,{"width":300,"left":X.screenLeft,"top":X.top-100},aa.anim_from,100,"BackEaseOut",function(){U.css(Y.dom,{"top":X.screenTop-100})})}g.prototype["close"]=M("fade");function x(ab,ac,aa){var Y=this;var aa=aa||{};var Z=ab||"\u8BF7\u8F93\u5165\u786E\u8BA4\u4FE1\u606F！";var W=d.replace(/{text}/,Z);this.dom=U.createDom(W)[0];this.inputDom=U.findByClassName(Y.dom,"UI_ask_key")[0];this.closeFn=null;this.callback=ac||null;var W=A.replace(/{(\w+)}/g,function(ad,ae){if(ae=="confirm"){return"确定"}else{if(ae=="cancel"){return"取消"}}});this.dom.appendChild(U.createDom(W)[0]);U.bind(this.dom,"click",".UI_pop_confirm_ok",function(){var ae=Y.inputDom.value;if(Y.callback){var ad=Y.callback(ae);if(ad!=false){Y.close()}}else{Y.close()}});U.bind(this.dom,"click",".UI_pop_confirm_cancel",function(){Y.close()});var X=k(300,160);u.appendChild(this.dom);r(this.dom,{"width":300,"left":X.screenLeft,"top":q+e/2-100},aa.anim_from,100,"BackEaseOut",function(){U.css(Y.dom,{"marginTop":-100,"top":""})})}x.prototype["close"]=M("fade");x.prototype["setValue"]=function(W){var W=W?W.toString():"";this.inputDom.value=W};function H(W,Y){var Z=this;var W=W||"\u8BF7\u8F93\u5165\u5185\u5BB9";this.dom=U.createDom(F)[0];this.tips(W,Y);var X=k(260,100);U.css(this.dom,{"top":0,"opacity":0});u.appendChild(this.dom);U.animation(this.dom,{"top":X.screenTop,"opacity":1},140,"BackEaseOut")}H.prototype["close"]=M("zoomOut",150);H.prototype["tips"]=function(W,X){var Y=this;if(W){U.findByClassName(this.dom,"UI_cnt")[0].innerHTML=W}if(X==0){return}setTimeout(function(){Y.close()},(X||1500))};private_activePlane=[];function P(){for(var W=0,X=private_activePlane.length;W<X;W++){private_activePlane[W].close()}private_activePlane=[]}function z(W){setTimeout(function(){var X=W.srcElement||W.target;while(!U.hasClass(X,"UI_plane")){X=X.parentNode;if(!X){P();break}}})}U.bind(b,"mouseup",z);function w(Y){var X=this;setTimeout(function(){private_activePlane.push(X)},20);var Y=Y||{};var W=Y["html"]||"";this.closeFn=Y["closeFn"]||null;this.dom=U.createDom(o)[0];this.dom.innerHTML=W;U.css(this.dom,{"width":Y["width"]||240,"height":Y["height"]||null,"top":Y["top"]||300,"left":Y["left"]||800});f.appendChild(this.dom)}w.prototype["close"]=M("fade",200);function G(Y){var Y=Y||{};var X=this;this.dom=U.createDom(R)[0];this.cntDom=U.findByClassName(this.dom,"UI_coverCnt")[0];this.closeFn=Y["closeFn"]||null;var W=Y["html"]||"";this.cntDom.innerHTML=W;U.bind(this.dom,"click",".UI_coverClose",function(){X.close()});u.appendChild(this.dom);this._bodyOverflowY=U.getStyle(b.body,"overflowY");r(this.dom,{"width":c,"top":q,"left":0},Y.anim_from,200,"QuadEaseIn",function(){U.css(b.body,{"overflowY":"hidden"});U.css(X.dom,{"width":"","top":0})})}G.prototype["close"]=function(){var W=this;U.css(b.body,{"overflowY":W._bodyOverflowY});U.css(this.cntDom,{"overflowY":"hidden"});U.zoomOut(this.cntDom,400,function(){U.removeNode(W.dom)})};function p(ab,Y){var X=this;var ab=ab||[];var Y=Y||{};var ad="";if(Y.title){ad+='<div class="UI_selectCpt">';if(Y.title){ad+="<h3>"+Y.title+"</h3>"}if(Y.intro){ad+="<p>"+Y.intro+"</p>"}ad+="</div>"}var af=[];var W="";for(var aa=0,ac=ab.length;aa<ac;aa++){W+='<a class="UI_select_btn" href="javascript:void(0)">'+ab[aa][0]+"</a>";af.push(ab[aa][1])}var ae=L.replace(/\{(\w+)\}/g,function(ah,ag){if(ag=="list"){return W}else{if(ag=="caption"){return ad}}});this.dom=U.createDom(ae)[0];this._mask=true;this.closeFn=Y.closeFn||null;if(c>460){this._mask=false;new w({"top":Y.top||100,"left":Y.left||100,"width":Y.width||200,"height":0,"closeFn":function(){X.close()}}).dom.appendChild(this.dom);U.css(this.dom,{"position":"relative","width":"100%"})}else{U.css(this.dom,{"bottom":-100,"opacity":0});m.appendChild(this.dom);U.animation(this.dom,{"bottom":0,"opacity":1},300,"ElasticEaseOut")}if(this._mask){C()}var Z=U.findByClassName(this.dom,"UI_select_btn");for(var aa=0,ac=Z.length;aa<ac;aa++){(function(ag){U.bind(Z[ag],"click",function(){af[ag]&&af[ag]();X.close()})})(aa)}}p.prototype["close"]=M("slide",200);return{"pop":function(){return new a(arguments[0])},"config":{"gap":function(W,X){if(W&&W.match(/(top|right|bottom|left)/)){if(parseInt(X)){E.gap[W]=X}}},"zIndex":function(W){var W=parseInt(W);if(W>0){E.zIndex=W;U.css(n,{"zIndex":W});U.css(m,{"zIndex":W});U.css(u,{"zIndex":W})}}},"confirm":function(){return new g(arguments[0])},"ask":function(X,Y,W){return new x(X,Y,W)},"prompt":function(W,X){return new H(W,X)},"plane":function(){return new w(arguments[0])},"cover":function(){return new G(arguments[0])},"select":function(){return new p(arguments[0],arguments[1])}}},function(m,t){var B=(function(){var F=t.createElement("div"),E="Khtml,Ms,O,Moz,Webkit".split(" "),D=E.length;return function(H){if(H in F.style){return true}H=H.replace(/^[a-z]/,function(I){return I.toUpperCase()});for(var G=0;G<D;G++){if(E[D]+H in F.style){break;return true}}return false}})();var s=(B("-webkit-transition")&&B("-webkit-transform"))?true:false;var n={Linear:function(E,D,G,F){return G*E/F+D},QuadEaseIn:function(E,D,G,F){return G*(E/=F)*E+D},SineEaseIn:function(E,D,G,F){return -G*Math.cos(E/F*(Math.PI/2))+G+D},SineEaseOut:function(E,D,G,F){return G*Math.sin(E/F*(Math.PI/2))+D},ElasticEaseOut:function(F,D,J,I,E,H){if(F==0){return D}if((F/=I)==1){return D+J}if(!H){H=I*0.3}if(!E||E<Math.abs(J)){E=J;var G=H/4}else{var G=H/(2*Math.PI)*Math.asin(J/E)}return(E*Math.pow(2,-10*F)*Math.sin((F*I-G)*(2*Math.PI)/H)+J+D)},BackEaseOut:function(E,D,H,G,F){if(F==undefined){F=1.70158}return H*((E=E/G-1)*E*((F+1)*E+F)+1)+D}};function e(D){return Object.prototype.toString.call(D).match(/\s(\w+)/)[1]}function h(D,F){if(typeof(D)=="object"&&typeof(F)=="function"){if(typeof(D.length)!=undefined){for(var E=0,G=D.length;E<G;E++){F.call(this,E,D[E])}}else{for(var E in D){F.call(this,E,D[E])}}}}function b(F,D){var E=F.className;if(E&&E.length){return F.className.match(new RegExp("(\\s|^)"+D+"(\\s|$)"))}else{return false}}function k(E,G){var F;G=="borderWidth"?G="borderLeftWidth":G;if(E.style[G]){F=E.style[G]}else{if(t.defaultView){var D=t.defaultView.getComputedStyle(E,null);F=G in D?D[G]:D.getPropertyValue(G)}else{if(E.currentStyle){F=E.currentStyle[G]}}}if(/\px$/.test(F)){F=parseInt(F)}else{if(F==+F){F=F=parseInt(F*10000)/10000}else{if(F==""||F=="medium"){F=0}else{if(F=="auto"){if(G=="height"){F=E.clientHeight}}}}}return F}function j(D,F,E){if(typeof(E)!="string"&&(E!=+E)){return}F=F.toString();if(F=="opacity"){D.style["filter"]="alpha(opacity="+(E*100)+")";E=E}else{if(E==+E&&E!=""){E=E+"px"}}D.style[F]=E}function o(E,F){for(var D in F){if(!F.hasOwnProperty(D)){continue}j(E,D,F[D])}}function l(F,J){var E=[];var I=[];var D=[];for(var H in J){if(!J.hasOwnProperty(H)){continue}var G=k(F,H);if(/\px$/.test(G)){G=parseInt(G)}if(G!==""&&(G==+G)){G=parseInt(G*10000)/10000;E.push(H);I.push(G);D.push(J[H])}}return[E,I,D]}function w(H,E,D,F,G){H=H*10000;E=E*10000;return G(D,H,(E-H),F)/10000}var i=(function(){return m.requestAnimationFrame||m.webkitRequestAnimationFrame||m.mozRequestAnimationFrame||m.oRequestAnimationFrame||function(D){return m.setTimeout(D,10)}})();function v(G,H,D){var F=arguments;this.elem=G;var E=l(this.elem,H);this.props=E[0];this.cssOri=E[1];this.cssEnd=E[2];this.durtime=D;this.animType="Linear";this.onEnd=null;if(F.length<3){throw new Error("missing arguments [dom,cssObj,durtime]")}else{if(e(F[3])=="Function"){this.onEnd=F[3]}else{if(typeof(F[3])=="string"){this.animType=F[3]}}if(e(F[4])=="Function"){this.onEnd=F[4]}}this.startAnim()}v.prototype["startAnim"]=function(){var H=this;var D=this.durtime;var J=new Date();var E=n[H.animType];var G=false;var F=this.props.length;function I(){var M=new Date()-J;if(M<D){i(I)}else{M=D;G=true}for(var K=0;K<F;K++){var L=w(H.cssOri[K],H.cssEnd[K],M,D,E);j(H.elem,H.props[K],L)}if(G){H.onEnd&&H.onEnd.call(H,H.elem)}}i(I)};var a,c;var f=t.createElement("div");function g(D){return(k(D,"borderLeftWidth")+k(D,"paddingLeft")+k(D,"width")+k(D,"paddingRight")+k(D,"borderRightWidth"))}function q(D){return(k(D,"borderTopWidth")+k(D,"paddingTop")+k(D,"height")+k(D,"paddingBottom")+k(D,"borderBottomWidth"))}if(f.getBoundingClientRect!=="undefined"){a=function(E){var D=E.getBoundingClientRect()["width"]||0;return typeof(D)!="undefined"?D:g(E)};c=function(E){var D=E.getBoundingClientRect()["height"]||0;return typeof(D)!="undefined"?D:q(E)}}else{a=g;c=q}var r=s?function(F,H,E){var I=k(F,"opacity");var G=k(F,"-webkit-transition");o(F,{"-webkit-transform":"scale(0.5)","-webkit-transition":H+"ms","opacity":0,});var D;F.addEventListener("webkitTransitionEnd",function(){clearTimeout(D);D=setTimeout(function(){o(F,{"-webkit-transform":"scale(1)","-webkit-transition":G,"opacity":I,});E&&E.call(F)},20)},true)}:function(G,J,F){var K=k(G,"opacity");G.style["overflow"]="hidden";var E=k(G,"width");var D=c(G);var I=k(G,"left")||0;var H=k(G,"top")||0;new v(G,{"width":E/2,"height":D/2,"left":(I+E/4),"top":(H+D/4),"opacity":0},J,function(){G.style["opacity"]=K;G.style["display"]="none";F&&F.call(G)})};var u=[];function A(){y(t,"DOMContentLoaded",A);y(m,"load",A);for(var D=0,E=u.length;D<E;D++){u[D]()}u=null}function p(D){if(t.readyState==="complete"){D&&D()}else{D&&u.push(D);z(t,"DOMContentLoaded",A);z(m,"load",A)}}var z=(function(){if(m.addEventListener){return function(F,E,D){F.addEventListener(E,D,false)}}else{if(m.attachEvent){return function(F,E,D){F.attachEvent("on"+E,D)}}}})();var y=(function(){if(m.removeEventListener){return function(F,E,D){F.removeEventListener(E,D,false)}}else{if(m.detachEvent){return function(F,E,D){F.detachEvent("on"+E,D)}}}})();function d(E,D,G){var F=E.srcElement||E.target;while(1){if(F==G){return false}if(b(F,D)){return F}if(!F){return false}F=F.parentNode}}function C(I,H,E,D){var G,F;if(typeof(E)=="string"){G=E.replace(/^\./,"");F=D;z(I,H,function(K){var J=d(K,G,I);if(J){F&&F.call(J)}})}else{F=E;z(I,H,F)}}function x(D,O,M){var M=M||{};var S=M["start"]||null;var F=M["move"]||null;var E=M["end"]||null;var I,G,Q,N,J,R;z(D,"mousedown",function(H){H.preventDefault&&H.preventDefault();H.stopPropagation&&H.stopPropagation();I=H.clientX;G=H.clientY;Q=k(O,"left");N=k(O,"top");J=a(O);R=c(O);S&&S.call(O,I,G);z(t,"mousemove",K);z(t,"mouseup",P)});function K(H){F&&F.call(O,(H.clientX-I),(H.clientY-G),Q,N,J,R);H.preventDefault&&H.preventDefault();H.stopPropagation&&H.stopPropagation();m.getSelection?m.getSelection().removeAllRanges():t.selection.empty()}function P(H){y(t,"mousemove",K);y(t,"mouseup",P);E&&E.call(O)}}return{"TypeOf":e,"each":h,"css":o,"supports":B,"zoomOut":r,"hasClass":b,"getStyle":k,"outerWidth":a,"outerHeight":c,"ready":p,"bind":C,"unbind":y,"drag":x,"hide":function(D){D.style["display"]="none"},"animation":function(E,D,H,G,F){return new v(E,D,H,G,F)},"createDom":function(E){var D=t.createElement("div");D.innerHTML=E;return D.childNodes},"removeNode":function(D){if(D&&D.parentNode&&D.tagName!="BODY"){D.parentNode.removeChild(D)}},"createStyleSheet":function(F,E){var D=t.createElement("style");E=E||{};E.type="text/css";for(var H in E){D.setAttribute(H,E[H])}if(D.styleSheet){D.styleSheet.cssText=F}else{var G=t.createTextNode(F);D.appendChild(G)}return D},"findByClassName":(function(){if(typeof(t.getElementsByClassName)!=="undefined"){return function(E,D){return E.getElementsByClassName(D)}}else{return function(G,E){var F=[];var D=G.getElementsByTagName("*");h(D,function(H,I){if(b(I,E)){F.push(I)}});return F}}})(),"offset":function(F){var E={"top":0,"left":0,"screen_top":0,"screen_left":0};var D;if(typeof F.getBoundingClientRect!=="undefined"){D=F.getBoundingClientRect()}E.screen_top=D.top;E.screen_left=D.left;E.top=D.top+t.body.scrollTop;E.left=D.left+t.body.scrollLeft;return E},"slideUp":function(E,F,D){E.style["overflow"]="hidden";new v(E,{"height":0,"padding":0},F,function(){E.style["display"]="none";D&&D.call(E)})},"fadeIn":function(E,F,D){var G=k(E,"opacity");E.style["opacity"]=0;E.style["display"]="block";new v(E,{"opacity":G},F,function(){D&&D.call(E)})},"fadeOut":function(E,F,D){var G=k(E,"opacity");new v(E,{"opacity":0},F,function(){E.style["opacity"]=G;E.style["display"]="none";D&&D.call(E)})}}});